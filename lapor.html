<!DOCTYPE html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Lapor ‚Äî Portal Data Warga</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="lapor.css">
</head>
<body>
    <!-- Header (sama dengan halaman lain) -->
    <header>
        <h5 class="jdol">üõ°Ô∏è Portal Data Warga</h5>
        <div class="d-flex align-items-center gap-2">
            <img src="https://i.pravatar.cc/150?img=12" alt="Foto Profil">
        </div>
    </header>

    <!-- Main centered card -->
    <main class="py-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-7 col-md-9">
                    <div class="report-card shadow-sm">
                        <div class="report-header">
                            <h4 class="mb-0">Sampaikan Laporan Anda</h4>
                        </div>

                        <div class="p-4">
                            <form id="laporForm" enctype="multipart/form-data">
                                <!-- top fields: Nama & Email sejajar -->
                                <div class="row g-3 mb-3 top-fields">
                                    <div class="col-md-6">
                                        <label for="namaPelapor" class="form-label visually-hidden">Nama Pelapor</label>
                                        <input type="text" class="form-control" id="namaPelapor" name="namaPelapor" placeholder="Nama Pelapor *" required>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="emailPelapor" class="form-label visually-hidden">Email Pelapor</label>
                                        <input type="email" class="form-control" id="emailPelapor" name="emailPelapor" placeholder="Email Pelapor *" required>
                                    </div>
                                </div>

                                <div class="mb-3">
                                    <input type="text" class="form-control" id="judul" name="judul" placeholder="Ketik Judul Laporan Anda *" required>
                                </div>

                                <div class="mb-3">
                                    <textarea class="form-control" id="isi" name="isi" rows="6" placeholder="Ketik Isi Laporan Anda *" required></textarea>
                                </div>

                                <div class="row g-3 mb-3">
                                    <div class="col-md-6">
                                        <input type="date" class="form-control" id="tanggal" name="tanggal" placeholder="Pilih Tanggal Kejadian *">
                                    </div>
                                    <div class="col-md-6">
                                        <input type="text" class="form-control" id="lokasi" name="lokasi" placeholder="Ketik Lokasi Kejadian *">
                                    </div>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label small text-muted">Upload Lampiran (foto / dokumen):</label>
                                    <input class="form-control" type="file" id="lampiran" name="lampiran[]" accept=".jpg,.jpeg,.png,.pdf" multiple>
                                    <div id="fileList" class="mt-2 small text-muted"></div>
                                </div>
                                </div>

                               <div class="mt-4 text-end">
                                    <button type="submit" class="btn btn-danger btn-lg px-5">LAPOR!</button>
                                </div>
                            </form>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // singkat: tampilkan daftar file yang dipilih & batasi ukuran total per file (mis. 5MB)
        const lampiran = document.getElementById('lampiran');
        const fileList = document.getElementById('fileList');
        lampiran.addEventListener('change', () => {
            fileList.innerHTML = '';
            const files = Array.from(lampiran.files);
            files.forEach(f => {
                if (f.size > 5 * 1024 * 1024) {
                    alert(`${f.name} terlalu besar (maks 5MB).`);
                    lampiran.value = '';
                    fileList.innerHTML = '';
                    return;
                }
                const div = document.createElement('div');
                div.textContent = `${f.name} ‚Äî ${(f.size/1024/1024).toFixed(2)} MB`;
                fileList.appendChild(div);
            });
        });

        // contoh submit (saat siap, ganti action/fetch)
        document.getElementById('laporForm').addEventListener('submit', e => {
            e.preventDefault();
            alert('Terima kasih. Laporan telah diterima (demo).');
            e.target.reset();
            fileList.innerHTML = '';
        });
    </script>
</body>
</html>
